"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$string = void 0;
function $string(str) {
    if (str.length > 41)
        return JSON.stringify(str);
    var length = str.length;
    var result = "";
    var last = 0;
    var found = false;
    var surrogateFound = false;
    var point = 255;
    for (var i = 0; i < length && point >= 32; i++) {
        point = str.charCodeAt(i);
        if (0xd800 <= point && point <= 0xdfff) {
            surrogateFound = true;
            break;
        }
        if (point === 34 || point === 92) {
            result += str.slice(last, i) + "\\";
            last = i;
            found = true;
        }
    }
    if (!found) {
        result = str;
    }
    else {
        result += str.slice(last);
    }
    return point < 32 || surrogateFound === true
        ? JSON.stringify(str)
        : "\"".concat(result, "\"");
}
exports.$string = $string;
//# sourceMappingURL=$string.js.map