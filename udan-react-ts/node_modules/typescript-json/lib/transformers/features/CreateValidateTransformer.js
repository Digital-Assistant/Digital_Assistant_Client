"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateValidateTransformer = void 0;
var ValidateProgrammer_1 = require("../../programmers/ValidateProgrammer");
var CreateValidateTransformer;
(function (CreateValidateTransformer) {
    function transform(equals) {
        var SYMBOL = equals ? "createValidateEquals" : "createValidate";
        var MESSAGES = {
            NOT_SPECIFIED: "Error on TSON.".concat(SYMBOL, "(): generic argument is not specified."),
            GENERIC_ARGUMENT: "Error on TSON.".concat(SYMBOL, "(): non-specified generic argument."),
        };
        return function (project, modulo, expression) {
            if (!expression.typeArguments || !expression.typeArguments[0])
                throw new Error(MESSAGES.NOT_SPECIFIED);
            var type = project.checker.getTypeFromTypeNode(expression.typeArguments[0]);
            if (type.isTypeParameter())
                throw new Error(MESSAGES.GENERIC_ARGUMENT);
            return ValidateProgrammer_1.ValidateProgrammer.generate(project, modulo, equals)(type);
        };
    }
    CreateValidateTransformer.transform = transform;
})(CreateValidateTransformer = exports.CreateValidateTransformer || (exports.CreateValidateTransformer = {}));
//# sourceMappingURL=CreateValidateTransformer.js.map