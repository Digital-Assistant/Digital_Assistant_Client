"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateAssertTransformer = void 0;
var AssertProgrammer_1 = require("../../programmers/AssertProgrammer");
var CreateAssertTransformer;
(function (CreateAssertTransformer) {
    function transform(equals) {
        var SYMBOL = equals ? "createAssertEquals" : "createAssertType";
        var MESSAGES = {
            NOT_SPECIFIED: "Error on TSON.".concat(SYMBOL, "(): generic argument is not specified."),
            GENERIC_ARGUMENT: "Error on TSON.".concat(SYMBOL, "(): non-specified generic argument."),
        };
        return function (project, modulo, expression) {
            if (!expression.typeArguments || !expression.typeArguments[0])
                throw new Error(MESSAGES.NOT_SPECIFIED);
            var type = project.checker.getTypeFromTypeNode(expression.typeArguments[0]);
            if (type.isTypeParameter())
                throw new Error(MESSAGES.GENERIC_ARGUMENT);
            return AssertProgrammer_1.AssertProgrammer.generate(project, modulo, equals)(type);
        };
    }
    CreateAssertTransformer.transform = transform;
})(CreateAssertTransformer = exports.CreateAssertTransformer || (exports.CreateAssertTransformer = {}));
//# sourceMappingURL=CreateAssertTransformer.js.map